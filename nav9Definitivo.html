<script>
  function alternarCollapse(id) {
    const elemento = document.getElementById(id);
    if (elemento) {
      elemento.classList.toggle('active');
    }
  }

  function toggleAccordion(collapseId) {
    var accordionBody = document.getElementById(collapseId);
    accordionBody.classList.toggle('show');
    var accordionHeader = accordionBody.previousElementSibling
    accordionHeader.classList.toggle('show');
  }
  $(function () {
    $('.EXPAND_COLLAPSE').find('dt').on('click', function () {
      $(this).next().toggle('350');
    });
  });

  document.addEventListener('DOMContentLoaded', function () {

    let topLevelNavigationComponent = document.createElement('nav');
    topLevelNavigationComponent.classList.add('navbar', 'navbar-menu-osde', 'elm-header-logo-menu');


    let divContainer = document.createElement('div');
    divContainer.classList.add('elm-header-nav-container', 'elm-nav-container');


    let ulList = document.createElement('ul');
    ulList.classList.add('navbar-header');

    // Creo los elementos li con las clases y atributos correspondientes y los agrego a la lista ul
    let listItem1 = document.createElement('li');
    listItem1.classList.add('navbar-header-logo');
    let link1 = document.createElement('a');
    link1.href = "/";
    let logoImg = document.createElement('img');
    logoImg.alt = "Logo de la empresa";
    logoImg.src = "/@api/deki/files/117/LogoOsde.png";
    link1.appendChild(logoImg);
    listItem1.appendChild(link1);
    ulList.appendChild(listItem1);

    let listItem2 = document.createElement('li');
    listItem2.classList.add('navbar-header-menu');
    let inputCheckbox = document.createElement('input');
    inputCheckbox.classList.add('nav-toggle');
    inputCheckbox.id = "nav-toggle";
    inputCheckbox.type = "checkbox";
    listItem2.appendChild(inputCheckbox);

    // Creo la lista ul secundaria para los elementos de la barra de navegación
    let ulSubList = document.createElement('ul');

    let listItemComercial = document.createElement('li');
    listItemComercial.classList.add('has-submenu', 'mt-style-conditional', 'style-wrap');
    listItemComercial.setAttribute('if',
      "user.groups['Administracion'] || user.groups['Data_entry'] || user.groups['Editores_de_contenidos'] || user.groups['Comercial']"
      );
    let linkComercial = document.createElement('a');
    linkComercial.href = "/Comercial";
    let imgComercial = document.createElement('img');
    imgComercial.alt = "Icono";
    imgComercial.src = "/@api/deki/files/114/mindtouch_(1).png";
    linkComercial.appendChild(imgComercial);
    linkComercial.appendChild(document.createTextNode("Comercial"));
    listItemComercial.appendChild(linkComercial);

    let ulSubListComercial = document.createElement('ul');
    ulSubListComercial.classList.add('submenu');

    let listItemGestionarB2B = document.createElement('li');
    let linkGestionarB2B = document.createElement('a');
    linkGestionarB2B.href = "/Comercial/Gestionar_leads_B2B";
    linkGestionarB2B.textContent = "Gestionar leads B2B";
    listItemGestionarB2B.appendChild(linkGestionarB2B);

    let listItemGestionarB2C = document.createElement('li');
    let linkGestionarB2C = document.createElement('a');
    linkGestionarB2C.href = "/Comercial/Gestionar_leads_B2C";
    linkGestionarB2C.textContent = "Gestionar leads B2C";
    listItemGestionarB2C.appendChild(linkGestionarB2C);

    ulSubListComercial.appendChild(listItemGestionarB2B);
    ulSubListComercial.appendChild(listItemGestionarB2C);
    listItemComercial.appendChild(ulSubListComercial);

    ulSubList.appendChild(listItemComercial);

    let listItemCobertura = document.createElement('li');
    listItemCobertura.classList.add('has-submenu', 'mt-style-conditional', 'style-wrap');
    listItemCobertura.setAttribute('if',
      "user.groups['Administracion'] || user.groups['Data_entry'] || user.groups['Visualizador_Atencion'] || user.groups['Editores_de_contenidos'] || user.groups['Visualizador_Afiliaciones'] || user.groups['Visualizador_Cobranzas'] || user.groups['Comercial']"
      );
    let linkCobertura = document.createElement('a');
    linkCobertura.href = "/Cobertura";
    let imgCobertura = document.createElement('img');
    imgCobertura.alt = "Icono";
    imgCobertura.src = "/@api/deki/files/113/mindtouch.png";
    linkCobertura.appendChild(imgCobertura);
    linkCobertura.appendChild(document.createTextNode("Cobertura"));
    listItemCobertura.appendChild(linkCobertura);

    let ulSubListCobertura = document.createElement('ul');
    ulSubListCobertura.classList.add('submenu');

    let listItemCirugias = document.createElement('li');
    let linkCirugias = document.createElement('a');
    linkCirugias.href = "/Cobertura/Cirugias";
    linkCirugias.textContent = "Cirugias";
    listItemCirugias.appendChild(linkCirugias);

    let listItemMedicamentos = document.createElement('li');
    let linkMedicamentos = document.createElement('a');
    linkMedicamentos.href = "/Cobertura/Medicamentos";
    linkMedicamentos.textContent = "Medicamentos";
    listItemMedicamentos.appendChild(linkMedicamentos);

    let listItemPracticas = document.createElement('li');
    let linkPracticas = document.createElement('a');
    linkPracticas.href = "/Cobertura/practicas";
    linkPracticas.textContent = "Practicas";
    listItemPracticas.appendChild(linkPracticas);

    ulSubListCobertura.appendChild(listItemCirugias);
    ulSubListCobertura.appendChild(listItemMedicamentos);
    ulSubListCobertura.appendChild(listItemPracticas);
    listItemCobertura.appendChild(ulSubListCobertura);

    ulSubList.appendChild(listItemCobertura);

    let listItemAfiliaciones = document.createElement('li');
    listItemAfiliaciones.classList.add('has-submenu', 'mt-style-conditional', 'style-wrap');
    listItemAfiliaciones.setAttribute('if',
      "user.groups['Administracion'] || user.groups['Data_entry'] || user.groups['Visualizador_Atencion'] || user.groups['Editores_de_contenidos'] || user.groups['Visualizador_Afiliaciones'] || user.groups['Visualizador_Cobranzas'] || user.groups['Comercial']"
      );
    let linkAfiliaciones = document.createElement('a');
    linkAfiliaciones.href = "/Afiliaciones";
    let imgAfiliaciones = document.createElement('img');
    imgAfiliaciones.alt = "Icono";
    imgAfiliaciones.src = "/@api/deki/files/115/mindtouch_(2).png";
    linkAfiliaciones.appendChild(imgAfiliaciones);
    linkAfiliaciones.appendChild(document.createTextNode("Afiliaciones"));
    listItemAfiliaciones.appendChild(linkAfiliaciones);

    let ulSubListAfiliaciones = document.createElement('ul');
    ulSubListAfiliaciones.classList.add('submenu');

    let listItemAltas = document.createElement('li');
    let linkAltas = document.createElement('a');
    linkAltas.href = "/Afiliaciones/altas";
    linkAltas.textContent = "Altas";
    listItemAltas.appendChild(linkAltas);

    let listItemBajas = document.createElement('li');
    let linkBajas = document.createElement('a');
    linkBajas.href = "/Afiliaciones/Bajas";
    linkBajas.textContent = "Bajas";
    listItemBajas.appendChild(linkBajas);

    let listItemLicencias = document.createElement('li');
    let linkLicencias = document.createElement('a');
    linkLicencias.href = "/Afiliaciones/Licencias";
    linkLicencias.textContent = "Licencias";
    listItemLicencias.appendChild(linkLicencias);

    let listItemMovimientosPadron = document.createElement('li');
    let linkMovimientosPadron = document.createElement('a');
    linkMovimientosPadron.href = "/Afiliaciones/movimientos_padron";
    linkMovimientosPadron.textContent = "Movimientos del padron";
    listItemMovimientosPadron.appendChild(linkMovimientosPadron);

    ulSubListAfiliaciones.appendChild(listItemAltas);
    ulSubListAfiliaciones.appendChild(listItemBajas);
    ulSubListAfiliaciones.appendChild(listItemLicencias);
    ulSubListAfiliaciones.appendChild(listItemMovimientosPadron);
    listItemAfiliaciones.appendChild(ulSubListAfiliaciones);

    ulSubList.appendChild(listItemAfiliaciones);

    let listItemCobranzas = document.createElement('li');
    listItemCobranzas.classList.add('has-submenu', 'mt-style-conditional', 'style-wrap');
    listItemCobranzas.setAttribute('if',
      "user.groups['Administracion'] || user.groups['Data_entry'] || user.groups['Visualizador_Atencion'] || user.groups['Editores_de_contenidos'] || user.groups['Visualizador_Afiliaciones'] || user.groups['Visualizador_Cobranzas'] || user.groups['Comercial']"
      );
    let linkCobranzas = document.createElement('a');
    linkCobranzas.href = "/Cobranzas";
    let imgCobranzas = document.createElement('img');
    imgCobranzas.alt = "Icono";
    imgCobranzas.src = "/@api/deki/files/113/mindtouch.png";
    linkCobranzas.appendChild(imgCobranzas);
    linkCobranzas.appendChild(document.createTextNode("Cobranzas"));
    listItemCobranzas.appendChild(linkCobranzas);

    let ulSubListCobranzas = document.createElement('ul');
    ulSubListCobranzas.classList.add('submenu');

    let listItemCuentaCorriente = document.createElement('li');
    let linkCuentaCorriente = document.createElement('a');
    linkCuentaCorriente.href = "/Cobranzas/Cuenta_corriente";
    linkCuentaCorriente.textContent = "Cuenta corriente";
    listItemCuentaCorriente.appendChild(linkCuentaCorriente);

    let listItemCuentaDebitoAutomatico = document.createElement('li');
    let linkCuentaDebitoAutomatico = document.createElement('a');
    linkCuentaDebitoAutomatico.href = "/Cobranzas/Cuenta_debito_automatico";
    linkCuentaDebitoAutomatico.textContent = "Cuenta debito automatico";
    listItemCuentaDebitoAutomatico.appendChild(linkCuentaDebitoAutomatico);

    let listItemDeudaVencida = document.createElement('li');
    let linkDeudaVencida = document.createElement('a');
    linkDeudaVencida.href = "/Cobranzas/Deuda_vencida";
    linkDeudaVencida.textContent = "Deuda vencida";
    listItemDeudaVencida.appendChild(linkDeudaVencida);

    ulSubListCobranzas.appendChild(listItemCuentaCorriente);
    ulSubListCobranzas.appendChild(listItemCuentaDebitoAutomatico);
    ulSubListCobranzas.appendChild(listItemDeudaVencida);
    listItemCobranzas.appendChild(ulSubListCobranzas);

    ulSubList.appendChild(listItemCobranzas);

    listItem2.appendChild(ulSubList);

    // Agrego el segundo elemento li a la lista ul
    ulList.appendChild(listItem2);

    // Agrego la lista ul al div contenedor
    divContainer.appendChild(ulList);

    // Agrego el div contenedor al elemento nav
    topLevelNavigationComponent.appendChild(divContainer);

    // Reemplazo el contenido del contenedor con la navbar
    let logoContainer = document.querySelector('.elm-header-logo-container');
    if (logoContainer) {
      logoContainer.innerHTML = '';
      logoContainer.appendChild(topLevelNavigationComponent);
    }
  });
</script>

<!--


Definición de funciones para controlar colapsos y acordeones:

alternarCollapse(id): Esta función alterna una clase CSS llamada 'active' en el elemento HTML que tiene el ID especificado. 
Esto podría utilizarse para mostrar u ocultar elementos colapsados.
toggleAccordion(collapseId): Similar a la función anterior, esta función cambia las clases CSS 'show' en un elemento colapsado y
su encabezado asociado para mostrar u ocultar el contenido.
Uso de jQuery para controlar colapsos en el DOM:

Se utiliza la librería jQuery para seleccionar todos los elementos con la clase 'EXPAND_COLLAPSE' que tienen etiquetas dt (definición de términos). 
Cuando se hace clic en un dt, se alterna la visibilidad del siguiente elemento (que se asume que es el contenido del colapso) usando un efecto de desvanecimiento.
Creación de la barra de navegación personalizada:

Cuando el evento DOMContentLoaded se dispara (cuando se carga la página), se crea una estructura de elementos HTML para construir la barra de navegación.
Se crean elementos nav, div, ul y una serie de elementos li para construir la estructura de la barra de navegación.
Para cada elemento li, se crean enlaces y, en algunos casos, imágenes para representar los ítems del menú.
En algunos elementos li, se crea una lista ul secundaria para manejar los elementos de submenú.
Reemplazo del contenido del contenedor original con la barra de navegación:

Se selecciona un contenedor HTML existente con la clase 'elm-header-logo-container' que aparentemente contiene un logo y/o contenido similar.
El contenido del contenedor se reemplaza con la nueva barra de navegación personalizada generada en pasos anteriores.
En resumen, el código construye una barra de navegación personalizada que contiene elementos de menú y submenú, y luego reemplaza el contenido de un
contenedor existente en la página con esta barra de navegación. Es una forma de modificar la apariencia y funcionalidad de la página utilizando JavaScript
para crear y manipular elementos del DOM.

-->