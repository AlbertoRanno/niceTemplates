<div id="mt-search-spblls-filters" class="mt-search-column-filters">
    <ul class="mt-search-filters-options" style="position: sticky; top: 100px;">
        <li class="mt-search-filters-header"><span>Filtrar resultados</span><button class="mt-search-filters-toggle-all"
                aria-label="¡Muéstrame Filtros" data-toggle-label="Filtros"></button></li>
        <li class="mt-search-filters-option mt-search-filters-option-location mt-search-filters-toggle-all-hide">
            Categorías<button class="mt-search-filters-option-toggle expanded" aria-label="¡Muéstrame Ubicación"
                data-toggle-label="Ubicación" aria-expanded="true"></button>
            <ul class="mt-search-filters-sub-options mt-search-filters-sub-options-locations" style="display: block;">
                <li class="mt-search-filters-location-item"><a class="mt-search-filters-location" href="#">Prestaciones
                        <span class="mt-search-filters-count">(12)</span></a></li>
                <li class="mt-search-filters-location-item"><a class="mt-search-filters-location" href="#">Acceso a la
                        Cobertura <span class="mt-search-filters-count">(11)</span></a></li>
                <li class="mt-search-filters-location-item"><a class="mt-search-filters-location" href="#">PruebasVarias
                        <span class="mt-search-filters-count">(6)</span></a></li>
                <li class="mt-search-filters-location-item"><a class="mt-search-filters-location" href="#">Cobertura
                        <span class="mt-search-filters-count">(1)</span></a></li>
                <li class="mt-search-filters-location-item"><a class="mt-search-filters-location" href="#">Tutoriales
                        <span class="mt-search-filters-count">(1)</span></a></li>
            </ul>
        </li>
        <li class="mt-search-filters-option mt-search-filters-option-classifications mt-search-filters-toggle-all-hide">
            Características<button class="mt-search-filters-option-toggle expanded"
                aria-label="¡Muéstrame Clasificación" data-toggle-label="Clasificación" aria-expanded="true"></button>
            <ul class="mt-search-filters-sub-options" style="display: block;">
                <li class="mt-search-filters-classification-item mt-search-filters-classification-article"><a
                        class="mt-search-filters-classification">Formato<button
                            class="mt-search-filters-classification-toggle expanded" aria-label="¡Muéstrame Formato"
                            data-toggle-label="Formato" aria-expanded="true"></button></a>
                    <ul class="mt-search-filters-sub-options mt-search-filters-sub-options-classification"
                        style="display: block;">
                        <li class="mt-search-filters-classification-article-topic-category"><label
                                class="mt-search-filters-classification-label"><input name="article" type="checkbox"
                                    value="article:topic-category">Category</label></li>
                        <li class="mt-search-filters-classification-article-topic-guide"><label
                                class="mt-search-filters-classification-label"><input name="article" type="checkbox"
                                    value="article:topic-guide">Guide</label></li>
                        <li class="mt-search-filters-classification-article-topic"><label
                                class="mt-search-filters-classification-label"><input name="article" type="checkbox"
                                    value="article:topic">Topic</label></li>
                        <li class="mt-search-filters-classification-article-howto"><label
                                class="mt-search-filters-classification-label"><input name="article" type="checkbox"
                                    value="article:howto">How-to</label></li>
                        <li class="mt-search-filters-classification-article-reference"><label
                                class="mt-search-filters-classification-label"><input name="article" type="checkbox"
                                    value="article:reference">Reference</label></li>
                    </ul>
                </li>
                <li class="mt-search-filters-classification-item mt-search-filters-classification-propietario"><a
                        class="mt-search-filters-classification">Propietario<button
                            class="mt-search-filters-classification-toggle expanded" aria-label="¡Muéstrame Propietario"
                            data-toggle-label="Propietario" aria-expanded="true"></button></a>
                    <ul class="mt-search-filters-sub-options mt-search-filters-sub-options-classification"
                        style="display: block;">
                        <li class="mt-search-filters-classification-propietario-cobranzas"><label
                                class="mt-search-filters-classification-label"><input name="propietario" type="checkbox"
                                    value="propietario:cobranzas">Cobranzas</label></li>
                        <li class="mt-search-filters-classification-propietario-gmg"><label
                                class="mt-search-filters-classification-label"><input name="propietario" type="checkbox"
                                    value="propietario:gmg">Gmg</label></li>
                        <li class="mt-search-filters-classification-propietario-gmp"><label
                                class="mt-search-filters-classification-label"><input name="propietario" type="checkbox"
                                    value="propietario:gmp">Gmp</label></li>
                        <li class="mt-search-filters-classification-propietario-suministros"><label
                                class="mt-search-filters-classification-label"><input name="propietario" type="checkbox"
                                    value="propietario:suministros">Suministros</label></li>
                        <li class="mt-search-filters-classification-propietario-marketing"><label
                                class="mt-search-filters-classification-label"><input name="propietario" type="checkbox"
                                    value="propietario:marketing">Marketing</label></li>
                        <li class="mt-search-filters-classification-propietario-comercial"><label
                                class="mt-search-filters-classification-label"><input name="propietario" type="checkbox"
                                    value="propietario:comercial">Comercial</label></li>
                        <li class="mt-search-filters-classification-propietario-afiliaciones"><label
                                class="mt-search-filters-classification-label"><input name="propietario" type="checkbox"
                                    value="propietario:afiliaciones">Afiliaciones</label></li>
                        <li class="mt-search-filters-classification-propietario-dh"><label
                                class="mt-search-filters-classification-label"><input name="propietario" type="checkbox"
                                    value="propietario:dh">DH</label></li>
                        <li class="mt-search-filters-classification-propietario-soporte-interno"><label
                                class="mt-search-filters-classification-label"><input name="propietario" type="checkbox"
                                    value="propietario:soporte-interno">Soporte interno</label></li>
                        <li class="mt-search-filters-classification-propietario-urgencias"><label
                                class="mt-search-filters-classification-label"><input name="propietario" type="checkbox"
                                    value="propietario:urgencias">Urgencias</label></li>
                        <li class="mt-search-filters-classification-propietario-osde"><label
                                class="mt-search-filters-classification-label"><input name="propietario" type="checkbox"
                                    value="propietario:osde">OSDE</label></li>
                    </ul>
                </li>
                <li class="mt-search-filters-classification-item mt-search-filters-classification-tipo"><a
                        class="mt-search-filters-classification">Catálogo<button
                            class="mt-search-filters-classification-toggle expanded" aria-label="¡Muéstrame Catálogo"
                            data-toggle-label="Catálogo" aria-expanded="true"></button></a>
                    <ul class="mt-search-filters-sub-options mt-search-filters-sub-options-classification"
                        style="display: block;">
                        <li class="mt-search-filters-classification-tipo-prestaciones"><label
                                class="mt-search-filters-classification-label"><input name="tipo" type="checkbox"
                                    value="tipo:prestaciones">Prestaciones</label></li>
                        <li class="mt-search-filters-classification-tipo-servicios"><label
                                class="mt-search-filters-classification-label"><input name="tipo" type="checkbox"
                                    value="tipo:servicios">Servicios</label></li>
                        <li class="mt-search-filters-classification-tipo-basico"><label
                                class="mt-search-filters-classification-label"><input name="tipo" type="checkbox"
                                    value="tipo:basico">Básico</label></li>
                        <li class="mt-search-filters-classification-tipo-servicios-procedimiento"><label
                                class="mt-search-filters-classification-label"><input name="tipo" type="checkbox"
                                    value="tipo:servicios-procedimiento">Servicios procedimientos</label></li>
                        <li class="mt-search-filters-classification-tipo-servicios-2do-nivel"><label
                                class="mt-search-filters-classification-label"><input name="tipo" type="checkbox"
                                    value="tipo:servicios-2do-nivel">Servicios 2do Nivel</label></li>
                        <li class="mt-search-filters-classification-tipo-prestaciones-2do-nivel"><label
                                class="mt-search-filters-classification-label"><input name="tipo" type="checkbox"
                                    value="tipo:prestaciones-2do-nivel">Prestaciones 2do Nivel</label></li>
                        <li class="mt-search-filters-classification-tipo-basico-papers"><label
                                class="mt-search-filters-classification-label"><input name="tipo" type="checkbox"
                                    value="tipo:basico-papers">Básico Papers</label></li>
                        <li class="mt-search-filters-classification-tipo-buscador-de-patologia"><label
                                class="mt-search-filters-classification-label"><input name="tipo" type="checkbox"
                                    value="tipo:buscador-de-patologia">Buscador de patología</label></li>
                    </ul>
                </li>
            </ul>
        </li>
        <li class="mt-search-filters-option mt-search-filters-option-attachments mt-search-filters-toggle-all-hide">
            Incluir datos adjuntos<label class="mt-toggle-switch mt-search-filters-toggle-switch"
                aria-label="View Attachments Toggle"><input aria-label="¡Muéstrame Incluir datos adjuntos"
                    class="mt-search-filters-attachments-toggle" data-toggle-label="Incluir datos adjuntos"
                    type="checkbox" aria-expanded="false"><span class="mt-toggle-switch-slider"></span></label>
            <ul class="mt-search-filters-sub-options">
                <li><label class="mt-search-filters-sub-options-attachments-description">Tipo de contenido</label>
                    <ul class="mt-search-filters-sub-options mt-search-filters-sub-options-attachments">
                        <li><label class="mt-search-filters-classification-label"><input
                                    class="mt-search-filters-document-type" name="type" type="checkbox"
                                    value="document">Documento</label></li>
                        <li><label class="mt-search-filters-classification-label"><input
                                    class="mt-search-filters-document-type" name="type" type="checkbox"
                                    value="image">Imagen</label></li>
                        <li><label class="mt-search-filters-classification-label"><input
                                    class="mt-search-filters-document-type" name="type" type="checkbox"
                                    value="binary">Otro</label></li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>
</div>

<script>
    /******************************** Orden Filtros en Lista de Resultados *******************************/

    /*  Para lograr todos los cambios deseados, opte por un combo, dado que era mas sencillo de esta manera:
    1- El community, solo ve parte de los filtros, por lo que ordeno solo lo que este tipo de usuario ve, y no todos... (Dentro de Caracteristicas, omito Formato y Propietario)
    2- Dentro de Catalogo, que es la unica opcion de Caracteristicas que ve, el orden interno, lo reacomode, eliminando desde el panel de control, los filtros viejos, y 
    creandolos en el orden deseado.
    3- Lo unico que tuve que cambiar mediante JS fue lo que hace el siguiente script, cambiar de posicion los LI mas externos, es decir, invierte el 2do LI (Categorias) por
    el 3ro (Caracteristicas). Y cada Li mantiene su contenido interno tal cual viene dado */

    window.addEventListener("load", function () {
        // Load => porque necesito que incluso los scripts que modifican otras cosas ya esten cargados
        if (window.location.href.startsWith("https://osde-prod1.mindtouch.us/Special:Search")) {

            setTimeout(function () {


                // Capturo el contenedor principal de los filtros, un div con su ID
                let divPrincipalFiltros = document.getElementById('mt-search-spblls-filters');
                console.log('Contenedor de filtros capturado:', divPrincipalFiltros);

                // Capturo la UL de nivel superior de los filtros mediante su clase
                let ulPrincipalFiltros = divPrincipalFiltros.querySelector(
                    '.mt-search-filters-options');
                console.log('Lista de filtros capturada:', ulPrincipalFiltros);

                // Capturo todos los LI dentro de UL, y los guardo en un array
                let arrayLiPrincipalesFiltros = Array.from(ulPrincipalFiltros.children);
                /* Para eso, uso la propiedad children, aplicada a la UL, la cual devuelve una colección "HTMLCollection", de todos los
                hijos directos del elemento. En este caso, ulPrincipalFiltros.children devuelve todos los <li> que son hijos directos del <ul>
                Array.from() es un método de la clase Array que crea una nueva instancia de Array a partir de un objeto similar a un array o iterable.
                Un "objeto similar a un array" tiene una propiedad length y propiedades indexadas, como una "HTMLCollection".
                Entonces, Array.from(ulPrincipalFiltros.children) convierte la "HTMLCollection" de hijos de ulPrincipalFiltros en un array regular de JavaScript.
                La razón para convertir una "HTMLCollection" en un array es que los arrays de JavaScript tienen métodos útiles (como sort(), forEach(), map()... 
                y el que uso en este caso, el insertBefore) que no están disponibles en una "HTMLCollection". (Lo que habia leido para indicePropioExplicado) */
                console.log('Elementos del filtro antes de reordenarlos:', arrayLiPrincipalesFiltros);

                /* Verifico que haya al menos tres elementos LI para que no haya problemas. Siempre deberia de haber 4 LI:
                    - el de borrar
                    - el de categorias
                    - el de caracteristicas
                    - el de adjuntos  */
                if (arrayLiPrincipalesFiltros.length >= 3) {
                    // Capturo los LI necesarios
                    let segundoLi = arrayLiPrincipalesFiltros[1]; // Categorias
                    let tercerLi = arrayLiPrincipalesFiltros[2]; // Caracteristicas
                    let cuartoLi = arrayLiPrincipalesFiltros[3]; // Adjuntos

                    // Intercambio sus posiciones
                    ulPrincipalFiltros.insertBefore(tercerLi, segundoLi);
                    ulPrincipalFiltros.insertBefore(segundoLi, cuartoLi);

                    /*El método insertBefore de un nodo en el DOM permite insertar un nuevo nodo antes de un nodo existente. La sintaxis es:

                    parentNode.insertBefore(newNode, referenceNode);

                    -parentNode: El nodo padre que contiene al nodo de referencia. En este caso: ulPrincipalFiltros
                    -newNode: El nuevo nodo que quieres insertar. En este caso: segundoLi, capturado en la variable
                    -referenceNode: El nodo antes del cual se insertará el nuevo nodo. En este caso: cuartoLi, capturado en la variable */

                    console.log('Elementos del filtro despues de reordenarlos:', Array.from(
                        ulPrincipalFiltros.children));
                } else {
                    console.log('No hay suficientes elementos LI para reordenar o algo paso...');
                }


            }, 500);
        }
    })
</script>

<!-- Version Limpia -->

<script>
    /******************************** Orden Filtros en Lista de Resultados *******************************/
    window.addEventListener("load", function () {
        if (window.location.href.startsWith("https://osde-prod1.mindtouch.us/Special:Search")) {
            setTimeout(function () {
                let divPrincipalFiltros = document.getElementById('mt-search-spblls-filters');
                let ulPrincipalFiltros = divPrincipalFiltros.querySelector(
                    '.mt-search-filters-options');
                let arrayLiPrincipalesFiltros = Array.from(ulPrincipalFiltros.children);
                if (arrayLiPrincipalesFiltros.length >= 3) {
                    let segundoLi = arrayLiPrincipalesFiltros[1];
                    let tercerLi = arrayLiPrincipalesFiltros[2];
                    let cuartoLi = arrayLiPrincipalesFiltros[3];
                    ulPrincipalFiltros.insertBefore(tercerLi, segundoLi);
                    ulPrincipalFiltros.insertBefore(segundoLi, cuartoLi);
                }
            }, 500);
        }
    })
</script>