<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div class="mt-tree-search-results-container">
        <ul id="search-results" class="mt-tree-search-results" data-ga-action="Search results">
            <li class="result type-page" data-key="1541" data-type="page"
                data-path="Contenido_a_Reutilizar/Repositorio_de_medios/Adjuntos/Medicamentos">
                <div class="mt-search-information mt-seated">
                    <div class="title" tabindex="2"><a class="go result-spacer mt-tracked-result" title="Medicamentos"
                            data-ga-label="Result 1"
                            data-track-uri="https://osde-prod2.mindtouch.us/@api/deki/site/query/2584?pageid=1541&amp;rank=1&amp;type=page&amp;sessionId=2a2dde98-ae29-11ee-981e-fffa27199ebe&amp;position=1"
                            data-tracking="false"
                            href="https://osde-prod2.mindtouch.us/Contenido_a_Reutilizar/Repositorio_de_medios/Adjuntos/Medicamentos">Medicamentos</a>
                    </div>
                    <div class="meta">
                        <div class="url"
                            title="https://osde-prod2.mindtouch.us/Contenido_a_Reutilizar/Repositorio_de_medios/Adjuntos/Medicamentos">
                            https://osde-prod2.mindtouch.us/Contenido_a_Reutilizar/Repositorio_de_medios/Adjuntos/Medicamentos
                        </div>
                        <div class="preview"><span class="mt-search-partial-content">2 { } Se adjunta aquí todo los
                                archivos que se utilizan en los artículos de medicamentos Se debe realizar el link desde
                                el articulo a este sector para seleccionar el archivo que necesita.</span></div>
                    </div>
                </div>
            </li>
            <li class="result type-page" data-key="1400" data-type="page"
                data-path="cobertura/Medicamentos/Medicamentos_-_H.I.V.">
                <div class="mt-search-information mt-seated">
                    <div class="title" tabindex="2"><a class="go result-spacer mt-tracked-result"
                            title="Medicamentos - H.I.V." data-ga-label="Result 2"
                            data-track-uri="https://osde-prod2.mindtouch.us/@api/deki/site/query/2584?pageid=1400&amp;rank=0.954761904761905&amp;type=page&amp;sessionId=2a2dde98-ae29-11ee-981e-fffa27199ebe&amp;position=2"
                            data-tracking="false"
                            href="https://osde-prod2.mindtouch.us/cobertura/Medicamentos/Medicamentos_-_H.I.V.">Medicamentos
                            - H.I.V.</a></div>
                    <div class="meta">
                        <div class="url"
                            title="https://osde-prod2.mindtouch.us/cobertura/Medicamentos/Medicamentos_-_H.I.V.">
                            https://osde-prod2.mindtouch.us/cobertura/Medicamentos/Medicamentos_-_H.I.V.</div>
                        <div class="preview"><span class="mt-search-partial-content">VIH : Virus de Inmunodeficiencia
                                Humana. Es un virus que afecta los linfocitos CD4, comprometiendo la inmunidad celular y
                                aumentando el riesgo de padecer ciertas infecciones y cánceres.</span></div>
                    </div>
                </div>
            </li>
            <li class="result type-page" data-key="1441" data-type="page"
                data-path="cobertura/Medicamentos/Medicamentos_-_Antieméticos">
                <div class="mt-search-information mt-seated">
                    <div class="title" tabindex="2"><a class="go result-spacer mt-tracked-result"
                            title="Medicamentos - Antieméticos" data-ga-label="Result 3"
                            data-track-uri="https://osde-prod2.mindtouch.us/@api/deki/site/query/2584?pageid=1441&amp;rank=0.904761904761905&amp;type=page&amp;sessionId=2a2dde98-ae29-11ee-981e-fffa27199ebe&amp;position=3"
                            data-tracking="false"
                            href="https://osde-prod2.mindtouch.us/cobertura/Medicamentos/Medicamentos_-_Antiem%C3%A9ticos">Medicamentos
                            - Antieméticos</a></div>
                    <div class="meta">
                        <div class="url"
                            title="https://osde-prod2.mindtouch.us/cobertura/Medicamentos/Medicamentos_-_Antiem%C3%A9ticos">
                            https://osde-prod2.mindtouch.us/cobertura/Medicamentos/Medicamentos_-_Antiem%C3%A9ticos
                        </div>
                        <div class="preview"><span class="mt-search-partial-content">Los antieméticos son productos que
                                impiden el vómito (emesis) o la nausea.</span></div>
                    </div>
                </div>
            </li>
            <li class="result type-page" data-key="1446" data-type="page"
                data-path="cobertura/Medicamentos/Cáncer_de_mama_-_Medicamentos">
                <div class="mt-search-information mt-seated">
                    <div class="title" tabindex="2"><a class="go result-spacer mt-tracked-result"
                            title="Cáncer de mama - Medicamentos" data-ga-label="Result 4"
                            data-track-uri="https://osde-prod2.mindtouch.us/@api/deki/site/query/2584?pageid=1446&amp;rank=0.857142857142857&amp;type=page&amp;sessionId=2a2dde98-ae29-11ee-981e-fffa27199ebe&amp;position=4"
                            data-tracking="false"
                            href="https://osde-prod2.mindtouch.us/cobertura/Medicamentos/C%C3%A1ncer_de_mama_-_Medicamentos">Cáncer
                            de mama - Medicamentos</a></div>
                    <div class="meta">
                        <div class="url"
                            title="https://osde-prod2.mindtouch.us/cobertura/Medicamentos/C%C3%A1ncer_de_mama_-_Medicamentos">
                            https://osde-prod2.mindtouch.us/cobertura/Medicamentos/C%C3%A1ncer_de_mama_-_Medicamentos
                        </div>
                        <div class="preview"><span class="mt-search-partial-content">Medicamento para el tratamiento de
                                enfermedades oncológicas.</span></div>
                    </div>
                </div>
            </li>
            <li class="result type-page" data-key="1415" data-type="page"
                data-path="cobertura/Medicamentos/Medicamentos_-_Talidomida">
                <div class="mt-search-information mt-seated">
                    <div class="title" tabindex="2"><a class="go result-spacer mt-tracked-result"
                            title="Medicamentos - Talidomida" data-ga-label="Result 5"
                            data-track-uri="https://osde-prod2.mindtouch.us/@api/deki/site/query/2584?pageid=1415&amp;rank=0.80952380952381&amp;type=page&amp;sessionId=2a2dde98-ae29-11ee-981e-fffa27199ebe&amp;position=5"
                            data-tracking="false"
                            href="https://osde-prod2.mindtouch.us/cobertura/Medicamentos/Medicamentos_-_Talidomida">Medicamentos
                            - Talidomida</a></div>
                    <div class="meta">
                        <div class="url"
                            title="https://osde-prod2.mindtouch.us/cobertura/Medicamentos/Medicamentos_-_Talidomida">
                            https://osde-prod2.mindtouch.us/cobertura/Medicamentos/Medicamentos_-_Talidomida</div>
                        <div class="preview"><span class="mt-search-partial-content">Se trata de un medicamento que se
                                utiliza para tratamientos oncológicos, de HIV y reumatológicos.</span></div>
                    </div>
                </div>
            </li>
            <li class="result type-page" data-key="1442" data-type="page"
                data-path="cobertura/Medicamentos/Artritis_psoriasica_-_Medicamentos">
                <div class="mt-search-information mt-seated">
                    <div class="title" tabindex="2"><a class="go result-spacer mt-tracked-result"
                            title="Artritis psoriásica - Medicamentos" data-ga-label="Result 6"
                            data-track-uri="https://osde-prod2.mindtouch.us/@api/deki/site/query/2584?pageid=1442&amp;rank=0.761904761904762&amp;type=page&amp;sessionId=2a2dde98-ae29-11ee-981e-fffa27199ebe&amp;position=6"
                            data-tracking="false"
                            href="https://osde-prod2.mindtouch.us/cobertura/Medicamentos/Artritis_psoriasica_-_Medicamentos">Artritis
                            psoriásica - Medicamentos</a></div>
                    <div class="meta">
                        <div class="url"
                            title="https://osde-prod2.mindtouch.us/cobertura/Medicamentos/Artritis_psoriasica_-_Medicamentos">
                            https://osde-prod2.mindtouch.us/cobertura/Medicamentos/Artritis_psoriasica_-_Medicamentos
                        </div>
                        <div class="preview"><span class="mt-search-partial-content">Medicamento para el tratamiento de
                                Artritis psoriásica.</span></div>
                    </div>
                </div>
            </li>
            <li class="result type-page" data-key="1412" data-type="page"
                data-path="cobertura/Medicamentos/Medicamentos_-_Hepatitis_B_o_C">
                <div class="mt-search-information mt-seated">
                    <div class="title" tabindex="2"><a class="go result-spacer mt-tracked-result"
                            title="Medicamentos - Hepatitis B o C" data-ga-label="Result 7"
                            data-track-uri="https://osde-prod2.mindtouch.us/@api/deki/site/query/2584?pageid=1412&amp;rank=0.714285714285714&amp;type=page&amp;sessionId=2a2dde98-ae29-11ee-981e-fffa27199ebe&amp;position=7"
                            data-tracking="false"
                            href="https://osde-prod2.mindtouch.us/cobertura/Medicamentos/Medicamentos_-_Hepatitis_B_o_C">Medicamentos
                            - Hepatitis B o C</a></div>
                    <div class="meta">
                        <div class="url"
                            title="https://osde-prod2.mindtouch.us/cobertura/Medicamentos/Medicamentos_-_Hepatitis_B_o_C">
                            https://osde-prod2.mindtouch.us/cobertura/Medicamentos/Medicamentos_-_Hepatitis_B_o_C</div>
                        <div class="preview"><span class="mt-search-partial-content">Estos medicamentos se utilizan para
                                pacientes con diagnóstico de hepatitis B o C. Algunos ejemplos son:</span></div>
                    </div>
                </div>
            </li>
            <li class="result type-page" data-key="1409" data-type="page"
                data-path="cobertura/Medicamentos/Medicamentos_-_Hemofilia">
                <div class="mt-search-information mt-seated">
                    <div class="title" tabindex="2"><a class="go result-spacer mt-tracked-result"
                            title="Medicamentos - Hemofilia" data-ga-label="Result 8"
                            data-track-uri="https://osde-prod2.mindtouch.us/@api/deki/site/query/2584?pageid=1409&amp;rank=0.666666666666667&amp;type=page&amp;sessionId=2a2dde98-ae29-11ee-981e-fffa27199ebe&amp;position=8"
                            data-tracking="false"
                            href="https://osde-prod2.mindtouch.us/cobertura/Medicamentos/Medicamentos_-_Hemofilia">Medicamentos
                            - Hemofilia</a></div>
                    <div class="meta">
                        <div class="url"
                            title="https://osde-prod2.mindtouch.us/cobertura/Medicamentos/Medicamentos_-_Hemofilia">
                            https://osde-prod2.mindtouch.us/cobertura/Medicamentos/Medicamentos_-_Hemofilia</div>
                        <div class="preview"><span class="mt-search-partial-content">Los medicamentos para la hemofilia
                                son concentrados de factores de coagulación y reemplazan en el paciente los factores de
                                que éste carece por su enfermedad hereditaria (factores VII, VIII, IX ).
                                Pued...</span><span class="mt-search-full-content mt-hide">Los medicamentos para la
                                hemofilia son concentrados de factores de coagulación y reemplazan en el paciente los
                                factores de que éste carece por su enfermedad hereditaria (factores VII, VIII, IX ).
                                Pueden fabricarse a partir de sangre humana de dadores voluntarios, llamados
                                hemoderivados, o utilizando células genéticamente diseñadas llamados productos
                                recombinantes.</span>
                            <div><button class="mt-help-more-content" data-ga-label="Help more content">Más</button>
                            </div>
                        </div>
                    </div>
                </div>
            </li>
            <li class="result type-page" data-key="1447" data-type="page"
                data-path="cobertura/Medicamentos/Psoriasis_en_Placa_-_Medicamentos">
                <div class="mt-search-information mt-seated">
                    <div class="title" tabindex="2"><a class="go result-spacer mt-tracked-result"
                            title="Psoriasis en Placa - Medicamentos" data-ga-label="Result 9"
                            data-track-uri="https://osde-prod2.mindtouch.us/@api/deki/site/query/2584?pageid=1447&amp;rank=0.619047619047619&amp;type=page&amp;sessionId=2a2dde98-ae29-11ee-981e-fffa27199ebe&amp;position=9"
                            data-tracking="false"
                            href="https://osde-prod2.mindtouch.us/cobertura/Medicamentos/Psoriasis_en_Placa_-_Medicamentos">Psoriasis
                            en Placa - Medicamentos</a></div>
                    <div class="meta">
                        <div class="url"
                            title="https://osde-prod2.mindtouch.us/cobertura/Medicamentos/Psoriasis_en_Placa_-_Medicamentos">
                            https://osde-prod2.mindtouch.us/cobertura/Medicamentos/Psoriasis_en_Placa_-_Medicamentos
                        </div>
                        <div class="preview"><span class="mt-search-partial-content">Medicamentos para tratar el
                                diagnóstico de Psoriasis en placa.</span></div>
                    </div>
                </div>
            </li>
            <li class="result type-page" data-key="1416" data-type="page"
                data-path="cobertura/Medicamentos/Enfermedad_de_Crohn_-_Medicamentos">
                <div class="mt-search-information mt-seated">
                    <div class="title" tabindex="2"><a class="go result-spacer mt-tracked-result"
                            title="Enfermedad de Crohn - Medicamentos" data-ga-label="Result 10"
                            data-track-uri="https://osde-prod2.mindtouch.us/@api/deki/site/query/2584?pageid=1416&amp;rank=0.571428571428571&amp;type=page&amp;sessionId=2a2dde98-ae29-11ee-981e-fffa27199ebe&amp;position=10"
                            data-tracking="false"
                            href="https://osde-prod2.mindtouch.us/cobertura/Medicamentos/Enfermedad_de_Crohn_-_Medicamentos">Enfermedad
                            de Crohn - Medicamentos</a></div>
                    <div class="meta">
                        <div class="url"
                            title="https://osde-prod2.mindtouch.us/cobertura/Medicamentos/Enfermedad_de_Crohn_-_Medicamentos">
                            https://osde-prod2.mindtouch.us/cobertura/Medicamentos/Enfermedad_de_Crohn_-_Medicamentos
                        </div>
                        <div class="preview"><span class="mt-search-partial-content">Medicamentos para el tratamiento de
                                la Enfermedad de Crohn.</span></div>
                    </div>
                </div>
            </li>
            <li class="result type-page" data-key="1449" data-type="page"
                data-path="cobertura/Medicamentos/Colitis_Ulcerosa_-_Medicamentos">
                <div class="mt-search-information mt-seated">
                    <div class="title" tabindex="2"><a class="go result-spacer mt-tracked-result"
                            title="Colitis Ulcerosa - Medicamentos" data-ga-label="Result 11"
                            data-track-uri="https://osde-prod2.mindtouch.us/@api/deki/site/query/2584?pageid=1449&amp;rank=0.523809523809524&amp;type=page&amp;sessionId=2a2dde98-ae29-11ee-981e-fffa27199ebe&amp;position=11"
                            data-tracking="false"
                            href="https://osde-prod2.mindtouch.us/cobertura/Medicamentos/Colitis_Ulcerosa_-_Medicamentos">Colitis
                            Ulcerosa - Medicamentos</a></div>
                    <div class="meta">
                        <div class="url"
                            title="https://osde-prod2.mindtouch.us/cobertura/Medicamentos/Colitis_Ulcerosa_-_Medicamentos">
                            https://osde-prod2.mindtouch.us/cobertura/Medicamentos/Colitis_Ulcerosa_-_Medicamentos</div>
                        <div class="preview"><span class="mt-search-partial-content">Medicamentos para el tratamiendo
                                del diagnóstico colitis ulcerosa.</span></div>
                    </div>
                </div>
            </li>
        </ul>
        <div class="mt-help-actions-container center"><button value="search" class="help-show-more ui-button"
                type="button" aria-label="Mostrar más resultados">Mostrar más resultados</button></div>
    </div>
</body>
<script>
    // Función para marcar todos los enlaces como no visitados
    function marcarNoVisitados() {
        // Selecciona todos los enlaces en la lista de resultados
        const enlaces = document.querySelectorAll('.mt-tree-search-results a');

        // Itera sobre cada enlace y cambia su estilo para indicar que no ha sido visitado
        enlaces.forEach(enlace => {
            enlace.style.color = 'green'; // Puedes cambiar el color según tus preferencias
            // enlace.style.fontWeight = 'normal'; // Puedes ajustar otros estilos si es necesario
        });
    }

    // Ejecuta la función cada 120 segundos (120,000 milisegundos)
    setInterval(marcarNoVisitados, 120000);
</script>
<script>
    // Espera a que el DOM esté completamente cargado
    document.addEventListener('DOMContentLoaded', function () {
        // Función para simular el borrado del historial local
        function borrarHistorialLocal() {
            // Obtén la lista de enlaces en la lista de resultados
            const enlacesSearchList = document.querySelectorAll('.mt-tree-search-results a');

            // Itera sobre cada enlace
            enlacesSearchList.forEach(enlace => {
                // Verifica si el enlace ha sido visitado
                const enlaceVisitadoSL = localStorage.getItem(enlace.href);

                if (enlaceVisitadoSL) {
                    // Cambia el estilo del enlace si ha sido visitado
                    enlace.style.color = 'pink';
                    enlace.style.fontWeight = 'normal';

                } else {
                    // Establece el estilo por defecto si el enlace no ha sido visitado
                    enlace.style.color = 'green';
                    enlace.style.fontWeight = 'bold';
                }
            });

            // Limpia el historial local
            localStorage.clear();
        }

        // Ejecuta la función cada 120 segundos (120,000 milisegundos)
        setInterval(borrarHistorialLocal, 22000);

        // Manejar el evento de hacer clic en un enlace
        document.addEventListener('click', function (event) {
            // Verificar si el clic fue en un enlace
            if (event.target.tagName === 'A') {
                // Almacenar en localStorage que el enlace ha sido visitado
                localStorage.setItem(event.target.href, 'visitado');
            }
        });
    });
</script>
<script>
    // Espera a que el DOM esté completamente cargado
    document.addEventListener('DOMContentLoaded', function () {
        // Manejar el evento de hacer clic en un enlace
        document.addEventListener('click', function (event) {
            // Verificar si el clic fue en un enlace
            if (event.target.tagName === 'A') {
                // Obtener la URL del enlace
                const url = event.target.href;

                // Guardar la URL en localStorage
                localStorage.setItem('ultimaURLVisitada', url);
            }
        });
    });


    /*

    En este ejemplo, cada vez que alguien hace clic en un enlace, la URL de ese enlace se almacena en el localStorage con la clave 'ultimaURLVisitada'. 
    Puedes cambiar el nombre de la clave según tus necesidades.

    if (event.target.tagName === 'A'):: Esta línea verifica si el elemento en el que se hizo clic es un enlace (<a>). 
        event.target se refiere al elemento en el que ocurrió el evento, y tagName es una propiedad que devuelve el nombre de la etiqueta en mayúsculas.
         Entonces, esta condición se cumple si el clic se hizo en un enlace.

    const url = event.target.href;: Una vez que se ha verificado que se hizo clic en un enlace, esta línea extrae la URL (href) del enlace y la asigna a la variable url. 
    event.target es el elemento en el que se hizo clic, y href es la propiedad que contiene la URL a la que apunta el enlace.

    localStorage.setItem('ultimaURLVisitada', url);: Aquí, la URL obtenida se almacena en el localStorage. 
    setItem es un método del localStorage que toma dos argumentos: el nombre de la clave (en este caso, 'ultimaURLVisitada') y el valor que se quiere almacenar (en este caso, la URL).

    Entonces, en resumen, este bloque de código se encarga de detectar si se hizo clic en un enlace, obtener la URL de ese enlace y luego almacenar esa URL en el localStorage 
    con la clave 'ultimaURLVisitada'. Esto te permite acceder a la última URL visitada en el localStorage para personalizar la apariencia de los enlaces según tu lógica.

    Este código debería funcionar incluso si el clic se realiza en un elemento li que contiene el enlace (a). La razón es que el evento de clic se propaga desde el elemento de 
    destino hacia arriba en la jerarquía de elementos (lo que se conoce como propagación de eventos). Al verificar si el elemento de destino del evento (event.target) es una etiqueta a, 
    se está asegurando de que el clic se haya realizado en un enlace, independientemente de dónde se haya hecho clic dentro del li.
    En otras palabras, si se hace clic en cualquier parte del li que contiene el enlace, el código aún identificará el clic como un clic en el enlace
     y almacenará la URL correspondiente en el localStorage.

     Con el código en el apartado que filtra por la URL de search, fuera de la funcion que demora el tiempo, funciona chequear el storage en consola:

    Abre la página web en la que has implementado el código.

    Abre las herramientas de desarrollo del navegador. Puedes hacer esto presionando F12 o haciendo clic derecho en la página y seleccionando "Inspeccionar" o "Inspeccionar elemento", 
    dependiendo del navegador.

    Ve a la pestaña "Consola" en las herramientas de desarrollo.

    Escribe el siguiente comando para ver el contenido del localStorage:

    console.log(localStorage.getItem('ultimaURLVisitada'));

    Este comando imprimirá en la consola el valor asociado con la clave 'ultimaURLVisitada' en el localStorage. Si has implementado correctamente el código que almacenaba la última URL visitada, 
    deberías ver la URL impresa en la consola.

    considerando el click derecho (menuContextual):
    */

    document.addEventListener('click', function (event) {
        if (event.target.tagName === 'A') {
            const url = event.target.href;
            localStorage.setItem('ultimaURLVisitada', url);
        }
    });

    document.addEventListener('contextmenu', function (event) {
        if (event.target.tagName === 'A') {
            const url = event.target.href;
            localStorage.setItem('ultimaURLVisitada', url);
        }
    });

    /* Este código escucha tanto los eventos de clic como los eventos de menú contextual (clic derecho) en cualquier elemento de anclaje (a). 
    Cuando se realiza un clic derecho en un enlace y se elige abrir en otra pestaña, el código captura la URL y la guarda en el localStorage.

    guardando ahora todos los links a los que se les hace click o click derecho, en un array en localStorage:
    */

    document.addEventListener('click', function (event) {
        if (event.target.tagName === 'A') {
            const url = event.target.href;
            guardarURLenLocalStorage(url);
        }
    });

    document.addEventListener('contextmenu', function (event) {
        if (event.target.tagName === 'A') {
            const url = event.target.href;
            guardarURLenLocalStorage(url);
        }
    });

    function guardarURLenLocalStorage(url) {
        // Obtener el array actual de URLs desde localStorage
        const urlsGuardadas = JSON.parse(localStorage.getItem('urlsGuardadas')) || [];

        // Agregar la nueva URL al array
        urlsGuardadas.push(url);

        // Guardar el array actualizado en localStorage
        localStorage.setItem('urlsGuardadas', JSON.stringify(urlsGuardadas));
    }

    /*
    function guardarURLenLocalStorage(url) {: Esto define una función llamada guardarURLenLocalStorage que toma un parámetro url. 
        Esta función se encargará de guardar una URL en el localStorage.

    const urlsGuardadas = JSON.parse(localStorage.getItem('urlsGuardadas')) || [];: Aquí se realiza la siguiente secuencia de acciones:

    localStorage.getItem('urlsGuardadas'): Se obtiene el valor asociado a la clave 'urlsGuardadas' en el localStorage. 
    Esto devolverá un string en formato JSON que representa un array de URLs guardadas previamente.

    JSON.parse(...) || []: El resultado de localStorage.getItem (en formato JSON) se convierte en un objeto de JavaScript utilizando JSON.parse(...). 
    Si no hay un valor (por ejemplo, si es la primera vez que se ejecuta y aún no hay nada guardado), se proporciona un array vacío [].

    urlsGuardadas.push(url);: Agrega la nueva URL al array urlsGuardadas.

    localStorage.setItem('urlsGuardadas', JSON.stringify(urlsGuardadas));: Actualiza el valor asociado a la clave 'urlsGuardadas' en el localStorage. 
    Antes de guardarlo, el array de URLs se convierte a un string JSON utilizando JSON.stringify(...). 
    !IMPORTANTE: Este paso es necesario porque localStorage solo puede almacenar strings.

    Entonces, en resumen, esta función realiza lo siguiente:

    Obtiene el array actual de URLs guardadas desde el localStorage.
    Agrega la nueva URL al array.
    Guarda el array actualizado de nuevo en el localStorage.
    Esta estructura permite acumular URLs en el localStorage a medida que se hacen clic en enlaces (<a>) en la página.*/

    /* Cuánto tiempo se puede almacenar ese array?:

    El localStorage en los navegadores web es persistente y puede almacenar datos de forma indefinida, a menos que el usuario realice alguna acción específica para borrarlos 
    o si el navegador decide limpiar el almacenamiento local por motivos de gestión de espacio o políticas de privacidad.

    Dicho esto, hay algunas consideraciones a tener en cuenta:

    Limite de Almacenamiento: El localStorage tiene un límite de almacenamiento, que varía según el navegador y puede ser de varios megabytes. Si se supera este límite, 
    el navegador puede solicitar al usuario que limpie datos o puede hacerlo automáticamente.

    Datos No Seguros para Exportación/Importación: El localStorage no es adecuado para almacenar datos sensibles o críticos, ya que no proporciona un nivel de seguridad fuerte. 
    Los datos almacenados en el localStorage son accesibles y modificables por scripts en la misma página.

    Dependencia del Usuario: Si el usuario decide borrar el historial del navegador, los datos almacenados en el localStorage también se eliminarán.

    En resumen, mientras se respeten los límites de almacenamiento y no haya acciones específicas por parte del usuario o el navegador para eliminar los datos,
     el array de URLs guardadas puede permanecer en el localStorage de forma indefinida. Sin embargo, siempre es bueno considerar estas limitaciones y diseñar en consecuencia,
     especialmente si se trata de datos críticos o sensibles.*/

    /* Para evitar que se agreguen URLs duplicadas en el array, podemos verificar si la URL ya existe antes de agregarla.
     Modifiquemos la función guardarURLenLocalStorage para realizar esta verificación:*/


    document.addEventListener('click', function (event) {
        if (event.target.tagName === 'A') {
            const url = event.target.href;
            guardarURLenLocalStorage(url);
        }
    });

    document.addEventListener('contextmenu', function (event) {
        if (event.target.tagName === 'A') {
            const url = event.target.href;
            guardarURLenLocalStorage(url);
        }
    });



    function guardarURLenLocalStorage(url) {
        // Obtener el array actual de URLs desde localStorage
        const urlsGuardadas = JSON.parse(localStorage.getItem('urlsGuardadas')) || [];

        // Verificar si la URL ya está en el array antes de agregarla
        if (!urlsGuardadas.includes(url)) {
            // Agregar la nueva URL al array
            urlsGuardadas.push(url);

            // Guardar el array actualizado en localStorage
            localStorage.setItem('urlsGuardadas', JSON.stringify(urlsGuardadas));

            console.log('Nueva URL guardada en el array:', url);
            console.log('URLs Guardadas:', urlsGuardadas);
        } else {
            console.log('La URL ya estaba en el array:', url);
            console.log('URLs Guardadas:', urlsGuardadas);
        }
    }

    /* 
    Puedes borrar el Local Storage en tu navegador utilizando JavaScript o a través de las herramientas de desarrollo del navegador.

    Usando JavaScript:
    Puedes ejecutar el siguiente código en la consola del navegador:    */

    localStorage.clear();

    /*Infinidad de pruebas y no podía modificar el CSS desde el script, hasta que:

    probemos con un temporizador para verificar periódicamente si el elemento li está presente.
    */

    document.addEventListener('DOMContentLoaded', function () {
        alert("Script ejecutado");

        // Función para aplicar el fondo rojo al primer elemento li de la lista de resultados
        function aplicarFondoRojo() {
            var primerLi = document.querySelector('#search-results li:first-child');
            if (primerLi) {
                primerLi.style.backgroundColor = 'red';
                console.log('Color de fondo rojo aplicado al primer elemento li.');
            } else {
                console.log('No se encontró ningún elemento li en la lista de resultados.');
            }
        }

        // Verificar periódicamente si el nodo objetivo está presente
        var interval = setInterval(function () {
            var targetNode = document.getElementById('search-results');
            if (targetNode) {
                clearInterval(interval); // Detener la verificación periódica
                aplicarFondoRojo();
            }
        }, 1000); // Verificar cada segundo (puedes ajustar el intervalo según sea necesario)
    });

    /* Este script utiliza un temporizador que verifica cada segundo si el nodo objetivo (#search-results) está presente. 
    Una vez que se encuentra, aplica el fondo rojo y detiene la verificación periódica. */

    /*Utilizando la misma lógica de verificación periódica para encontrar los elementos y luego aplicar el cambio de color. Aquí tienes el script:*/

    // Verificación periódica para encontrar los elementos
    var interval = setInterval(function () {
        var targetNode = document.getElementById('search-results');
        if (targetNode) {
            clearInterval(interval); // Detener la verificación periódica
            aplicarCambioDeColor();
        }
    }, 1000);

    // Función para aplicar el cambio de color a los enlaces coincidentes
    function aplicarCambioDeColor() {
        // Obtener el array actual de URLs desde localStorage
        const urlsGuardadas = JSON.parse(localStorage.getItem('urlsGuardadas')) || [];

        // Recorrer todos los enlaces en los resultados de búsqueda
        document.querySelectorAll("#search-results li a").forEach(function (link) {
            // Obtener la URL del enlace
            var linkUrl = link.getAttribute("href");

            // Verificar si la URL está en el array del local storage
            if (urlsGuardadas.includes(linkUrl)) {
                // Aplicar el cambio de color al violeta
                link.style.color = "violet";
            }
        });
    }

    /* Este script buscará periódicamente los elementos #search-results y, una vez encontrados, detendrá la verificación y aplicará el
     cambio de color al violeta a los enlaces cuyas URLs coincidan con las almacenadas en el localStorage. 
     
     Hasta aquí funciona, pero ahora quiero lograr que se vaya cambiando el color, a medida que el usuario va haciendo los clicks*/

    // Función para aplicar el cambio de color a los enlaces coincidentes
    function aplicarCambioDeColor() {
        // Obtener el array actual de URLs desde localStorage
        const urlsGuardadas = JSON.parse(localStorage.getItem('urlsGuardadas')) || [];

        // Recorrer todos los enlaces en los resultados de búsqueda
        document.querySelectorAll("#search-results li a").forEach(function (link) {
            // Obtener la URL del enlace
            var linkUrl = link.getAttribute("href");

            // Verificar si la URL está en el array del local storage
            if (urlsGuardadas.includes(linkUrl)) {
                // Aplicar el cambio de color al violeta
                link.style.color = "violet";
            }
        });
    }

    // Función para manejar el evento click en los enlaces
    function handleClick(event) {
        if (event.target.tagName === 'A') {
            const url = event.target.href;

            // Obtener el array actual de URLs desde localStorage
            const urlsGuardadas = JSON.parse(localStorage.getItem('urlsGuardadas')) || [];

            // Verificar si la URL ya está en el array antes de agregarla
            if (!urlsGuardadas.includes(url)) {
                // Agregar la nueva URL al array
                urlsGuardadas.push(url);

                // Guardar el array actualizado en localStorage
                localStorage.setItem('urlsGuardadas', JSON.stringify(urlsGuardadas));

                console.log('Nueva URL guardada en el array:', url);
                console.log('URLs Guardadas:', urlsGuardadas);

                // Aplicar el cambio de color después de guardar la nueva URL
                aplicarCambioDeColor();
            } else {
                console.log('La URL ya estaba en el array:', url);
                console.log('URLs Guardadas:', urlsGuardadas);
            }
        }
    }

    // Agregar el manejador de eventos click al documento
    document.addEventListener('click', handleClick);

    // Verificación periódica para encontrar los elementos
    var interval = setInterval(function () {
        var targetNode = document.getElementById('search-results');
        if (targetNode) {
            clearInterval(interval); // Detener la verificación periódica
            aplicarCambioDeColor();
        }
    }, 1000);

    // RECAPITULANDO:

    // Captura de Enlaces:

    document.addEventListener('click', function (event) {
        if (event.target.tagName === 'A') {
            const url = event.target.href;
            guardarURLenLocalStorage(url);
        }
    });

    document.addEventListener('contextmenu', function (event) {
        if (event.target.tagName === 'A') {
            const url = event.target.href;
            guardarURLenLocalStorage(url);
        }
    });

    // Estos eventos se encargan de capturar los clics y clics con el botón derecho del ratón(
    //     contextmenu) en cualquier enlace( < a > ).
    // Si se detecta un clic en un enlace,
    // se extrae la URL del enlace y se llama a la función guardarURLenLocalStorage para almacenar la URL en el almacenamiento local

    // Almacenamiento Local:

    function guardarURLenLocalStorage(url) {
        const urlsGuardadas = JSON.parse(localStorage.getItem('urlsGuardadas')) || [];

        if (!urlsGuardadas.includes(url)) {
            urlsGuardadas.push(url);
            localStorage.setItem('urlsGuardadas', JSON.stringify(urlsGuardadas));
            console.log('Nueva URL guardada en el array:', url);
            console.log('URLs Guardadas:', urlsGuardadas);
        } else {
            console.log('La URL ya estaba en el array:', url);
            console.log('URLs Guardadas:', urlsGuardadas);
        }
    }

    // Esta función maneja el almacenamiento de URLs en el almacenamiento local.
    // Se obtiene el array actual de URLs almacenadas.
    // Se verifica si la URL ya está en el array.Si no está, se agrega y se actualiza el almacenamiento local.Si ya está,
    //     se muestra un mensaje en la consola.

    // Verificación Periódica:

    var interval = setInterval(function () {
        var targetNode = document.getElementById('search-results');
        if (targetNode) {
            clearInterval(interval); // Detener la verificación periódica
            aplicarCambioDeColor();
        }
    }, 1000);

    // Este bloque realiza una verificación periódica cada segundo para encontrar el elemento con el ID 'search-results'.
    // Cuando se encuentra, se detiene la verificación y se llama a la función aplicarCambioDeColor.

    // Aplicar Cambio de Color a Enlaces:

    function aplicarCambioDeColor() {
        const urlsGuardadas = JSON.parse(localStorage.getItem('urlsGuardadas')) || [];

        document.querySelectorAll("#search-results li a").forEach(function (link) {
            var linkUrl = link.getAttribute("href");

            if (urlsGuardadas.includes(linkUrl)) {
                link.style.color = "violet";
            }
        });
    }

    // Esta función recorre todos los enlaces dentro de los elementos < li > en el contenedor con el ID 'search-results'.
    // Compara las URLs de estos enlaces con las URLs almacenadas y, si hay coincidencias,
    // cambia el color del enlace a violeta.

    // Manejo de Evento Click:

    function handleClick(event) {
        if (event.target.tagName === 'A') {
            const url = event.target.href;
            const urlsGuardadas = JSON.parse(localStorage.getItem('urlsGuardadas')) || [];

            if (!urlsGuardadas.includes(url)) {
                urlsGuardadas.push(url);
                localStorage.setItem('urlsGuardadas', JSON.stringify(urlsGuardadas));
                console.log('Nueva URL guardada en el array:', url);
                console.log('URLs Guardadas:', urlsGuardadas);
                aplicarCambioDeColor();
            } else {
                console.log('La URL ya estaba en el array:', url);
                console.log('URLs Guardadas:', urlsGuardadas);
            }
        }
    }

    // Este bloque agrega un manejador de eventos click al documento.
    // Cuando se hace clic en un enlace, se obtiene la URL y se verifica si ya está en el array.Si no está,
    //     se agrega y se actualiza el almacenamiento local.Luego, se llama a aplicarCambioDeColor.

    // Por último, agregar un botón, que les permita borrar el localStorage a voluntad:

    // Función para crear y agregar un botón en la página
    function agregarBotonBorrarLocalStorage() {
        // Crear el botón
        var boton = document.createElement("button");
        boton.innerHTML = "Borrar Historial";
        boton.style.position = "fixed";
        boton.style.top = "350px";
        boton.style.right = "10px";
        boton.style.padding = "10px";
        boton.style.cursor = "pointer";
        boton.style.zIndex = "9999"; // Ajustar el z-index
        boton.style.backgroundColor = "orange"; // Cambiar el color de fondo

        // Agregar evento click al botón
        boton.addEventListener("click", function () {
            // Borrar el localStorage y actualizar la página
            localStorage.removeItem('urlsGuardadas');
            location.reload();
        });

        // Agregar el botón al cuerpo de la página
        document.body.appendChild(boton);
    }

    // Llamar a la función para agregar el botón
    agregarBotonBorrarLocalStorage();
</script>

</html>