/*
"Texto"; // Texto entre comillas
<br/> //Line break 
<br/><br/> //Line space
"Link : ";
<br/> 
<a href="http://www.mindtouch.com">"MindTouch"</a>; //Acordarse del ";" por mas que no este en los ejemplos
//la diferencia de ponerlo acá y en el html, es que aca lleva "" pero no se ven... y en el html, si se las pongo, se ven... 
//en el html, funciona bien sin las comillas: <p><a href="http://www.hyperlink.com">Text for your hyperlink</a></p>
<br/>
"Concatenación : ";
<br/> 
//Concatenate    "..x.."
var x=5;
var y=6;
""..x..""..y.."";  //muestra "56"
//Don't forget to put a semicolon after the text and before the line break or line space.
// DekiScript operators
// Operator	Description
// =	    sets something
// ==	    compares things
// &&	    and
// ||	    or
// !=	    does not
// ()	    allows DekiScript in HTML
<br/>
"Muestro variable : ";
<br/> 
var url = "http://www.mindtouch.com";
url;
<br/>
"Condicional : ";
<br/> 
var x =25;
if (user.title != "How to Use DekiScript for Programmers")
{
"If you are a programmer look at this link instead:";
let x = 75;
}
x;
<br/>
"Cambio valor variable : ";
<br/> 
//Si lo siguiente, lo envuelvo en {{
var output = "Hello World";		        // Set the output variable
output;					                // Print the output
<br/>
let output = "Hello Universe";  	    // Reset the ouput variable
output; 				                // Print the output
//}} y lo paso al html, funciona OK!
<br/>
"Importo variable global : ";
<br/> 
coberturaMedicamentos;
<br/>
"Link con variable : ";
<br/> 
var linkURL = 'https://success.mindtouch.com';
<p>'This is just a string.'; <a href=(linkURL) target='_blank'> 'This text must be surrounded in quotes to be rendered as a link!' </a></p>
"Link con variable global : ";
<br/> 
<p>'This is just a string.'; <a href=(coberturaMedicamentos) target='_blank'> 'coberturaMedicamentos link!' </a></p>
//Surrounding strings with double quotes
//For best practices, we recommend surrounding text strings with single quotes, though in some cases you may need double quotes. 
"Apóstrofes : ";
<br/> 
//For instance, if you need to include an apostrophe within a text string, you'll need to surround that text string with double quotes:
<p>"This is John's example of a link"; <a href=(linkURL) target='_blank'> 'This text must be surrounded in quotes to be rendered as a link!' </a>
</p>
"Propiedades de objetos : ";
<br/> 
"User: " ..user.displayname;<br/>
"Page title: " ..page.title;<br/>
"Site name: " ..site.name;<br/>
// Explanation of the syntax 
// Syntax element       	Description
// ""	                    Designate the beginning and end of the custom text string you want to display
// ..	                    Designates the current page
// user.displayname 	    The object.property call
// ;	                    The operator indicating the end of a line of code (necessary)
// <br/>	                Forces a line break

// Assign properties to objects
// The MindTouch DekiScript objects are:  user, page and site.
// Assign properties by adding a period . after the object followed by the property:

// Object with property	    Function
// user.name	            Displays the name of users
// user.anonymous           Displays anonymous users
// page.title	            Displays the page title
// page.author	            Displays the author of the page
// site.uri	                Displays the URL of the site
// site.name	            Displays the name of the site
<br/><br/>
"Usuario: " ..user.name;
<br/><br/>
"Grupos a los que pertenece: ";
user.groups;
<br/><br/>
user.metrics; //Contains a collection of metrics pertaining to the user, including a comment count,
//number of files added, number of pages created, number of pages edited, and number of ratings.
<br/><br/>
user.properties;
<br/><br/><br/><br/><br/><br/>
"Objeto User:";
<br/>
user.active; //Tells whether the user is using the site at the time you make the call.
<br/>
//Wanda.active; // No funciona con los nombres de los usuarios
user.activityuri;
<br/>
user.admin;
<br/>
user.api;
<br/>
user.comments;
<br/>
user.displayname;
<br/>
user.fullname;
<br/>
user.name;
<br/>
user.email;
<br/>
user.groups;
<br/>
user.homepage;
<br/>
user.metrics;
<br/>
user.owner;
<br/>
user.properties;
<br/>
user.uri;
<br/>
"Cantidad de visitas en esta página: ";
page.viewcount;
<br/>
"Cantidad de páginas en Nice hasta el momento: ";
site.pagecount;
<br/><br/><br/><br/><br/><br/>
//user;
user.admin;
//if (!user.admin){"Hello No Admin!";}
if (user.admin) {
 var elemento = document.querySelector(".mt-site-tools.mt-mobile-hide");
 if (elemento) { elemento.style.display = "none"; }
}
*/


/*
<li class="mt-site-tools mt-mobile-hide">
        <a class="mt-icon-site-tools mt-dropdown-link" href="#" title="Haga clic para ver las herramientas del sitio disponibles" data-ga-label="Site tools menu toggle">
            Herramientas del sitio
        </a>
        <ol class="mt-user-menu-container mt-dropdown">
            <li class="mt-user-menu-dashboard">
                <a class="mt-icon-dashboard" href="/Special:Dashboard" title="Haga clic para ir al panel de control de su sitio" data-ga-label="Dashboard link">
                    Tablero de Instrumento
                </a>
            </li>
        </ol>
    </li>
    
    
    .mt-site-tools.mt-mobile-hide {
    border: red solid 3px;
}
*/

user.admin;
/*user.admin;

var uri = site.api & 'pages/popular' & { limit: 10 };
var api = wiki.api(uri);

<div class="widget-popular">
    <ul>
    foreach(var pg in api['page'] ) {
        <li>
            web.link(pg / 'uri.ui', pg / 'title');
            var viewcount = num.cast(pg / 'metrics/metric.views');
            <span class="viewcount">
                " (";
                num.format(viewcount,"###,###,###");
                " views)";
            </span>
        </li>
    }
    </ul>
</div>

// Object with property	    Function
// user.name	            Displays the name of users
// user.anonymous           Displays anonymous users
// page.title	            Displays the page title
// page.author	            Displays the author of the page
// site.uri	                Displays the URL of the site
// site.name	            Displays the name of the site

if(user.groups['Administracion'] || user.groups['Data_entry'] || user.groups['Vista_atencion'] || user.groups['Editores_de_contenidos'] || user.groups['Vista_afiliaciones'] || user.groups['Vista_cobranzas'] || user.groups['Comercial'] ){}


//-----------------------------------------------------------------------------------------


var uri = site.api + 'pages/popular' + { limit: 15 };
var api = wiki.api(uri);
var userGroups = user.groups; // Obtener grupos del usuario

var allowedPageUrlStartsWith = {
    "group1": "home/afiliaciones/", // Definir el comienzo de las URLs permitidas para cada grupo
    "group2": "home/otra_ruta/",
    // Agregar más grupos y comienzos de URL según sea necesario
};

<div class="widget-popular">
    <ul>
    foreach (var pg in api['page']) {
        var pageUrl = pg / 'uri.ui';
        var pageGroup = pg / 'group'; // Supongamos que hay una propiedad "group" en la página

        // Comprobar si el usuario pertenece al grupo de la página
        if (userGroups.contains(pageGroup) && isPageAllowed(pageUrl, pageGroup)) {
            <li>
                web.link(pageUrl, pg / 'title');
                var viewcount = num.cast(pg / 'metrics/metric.views');
                <span class="viewcount">
                    " (";
                    num.format(viewcount, "###,###,###");
                    " views)";
                </span>
            </li>
        }
    }
    </ul>
</div>

@function isPageAllowed(pageUrl, pageGroup) {
    // Verificar si la página comienza con la URL permitida para el grupo
    return pageUrl.startsWith(allowedPageUrlStartsWith[pageGroup]);*/